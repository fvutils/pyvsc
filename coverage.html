<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PyVSC Coverage &mdash; pyvsc 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PyVSC Methods" href="methods.html" />
    <link rel="prev" title="PyVSC Constraints" href="constraints.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyvsc
          </a>
              <div class="version">
                0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_types.html">PyVSC Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="constraints.html">PyVSC Constraints</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PyVSC Coverage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#covergroups">Covergroups</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#specifying-covergroup-options">Specifying Covergroup Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#coverpoints">Coverpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#specifying-bins">Specifying Bins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#individual-bins">Individual Bins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bin-arrays">Bin Arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auto-bins">Auto-Bins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wildcard-bins-single">Wildcard Bins (Single)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wildcard-bins-array">Wildcard Bins (Array)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ignore-and-illegal-bins">Ignore and Illegal Bins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#coverpoint-crosses">Coverpoint Crosses</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specifying-coverpoint-sampling-conditions">Specifying Coverpoint Sampling Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#coverpoint-options">Coverpoint Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#providing-coverage-data-to-sample">Providing Coverage Data to Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#declaring-a-custom-sample-method">Declaring a Custom Sample Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specifying-sampling-data-at-instantiation">Specifying Sampling Data at Instantiation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#coverage-api">Coverage API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#coverage-reports">Coverage Reports</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vsc.get_coverage_report"><code class="docutils literal notranslate"><span class="pre">get_coverage_report()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vsc.get_coverage_report_model"><code class="docutils literal notranslate"><span class="pre">get_coverage_report_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#vsc.report_coverage"><code class="docutils literal notranslate"><span class="pre">report_coverage()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#saving-coverage-data">Saving Coverage Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vsc.write_coverage_db"><code class="docutils literal notranslate"><span class="pre">write_coverage_db()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#saving-to-xml">Saving to XML</a></li>
<li class="toctree-l3"><a class="reference internal" href="#saving-via-a-ucis-api-implementation">Saving via a UCIS API Implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-coverage-data">Using Coverage Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#viewing-coverage-with-pyucis-viewer">Viewing Coverage with PyUCIS-Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#siemens-questa-writing-coverage-data">Siemens Questa: Writing Coverage Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#synopsys-vcs-importing-coverage-data">Synopsys VCS: Importing Coverage Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="methods.html">PyVSC Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">PyVSC Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyvsc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">PyVSC Coverage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/coverage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyvsc-coverage">
<h1>PyVSC Coverage<a class="headerlink" href="#pyvsc-coverage" title="Permalink to this heading"></a></h1>
<section id="covergroups">
<h2>Covergroups<a class="headerlink" href="#covergroups" title="Permalink to this heading"></a></h2>
<p>With PyVSC, a covergroup is declared as a Python class that is decorated
with the <a class="reference internal" href="reference.html#vsc.coverage.covergroup" title="vsc.coverage.covergroup"><code class="xref any py py-func docutils literal notranslate"><span class="pre">covergroup</span></code></a> decorator.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span> <span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
             <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
             <span class="p">)</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">})</span>

<span class="n">my_cg_1</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
<span class="n">my_cg_2</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
</pre></div>
</div>
<p>Data to be sampled for coverage can be passed to the covergroup as
parameters of the <a class="reference internal" href="reference.html#vsc.model.covergroup_model.CovergroupModel.sample" title="vsc.model.covergroup_model.CovergroupModel.sample"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">sample</span></code></a> method when the covergroup is sampled,
or may be specified as a reference parameter when the covergroup
is instanced.</p>
<p>Coverage goals, coverage options, and sampling details are specified within
the <code class="xref any docutils literal notranslate"><span class="pre">__init__</span></code> method.</p>
<p>Covergroup instances are created by creating an instance of a <a class="reference internal" href="reference.html#vsc.coverage.covergroup" title="vsc.coverage.covergroup"><code class="xref any py py-func docutils literal notranslate"><span class="pre">covergroup</span></code></a>-decorated
class.</p>
<section id="specifying-covergroup-options">
<h3>Specifying Covergroup Options<a class="headerlink" href="#specifying-covergroup-options" title="Permalink to this heading"></a></h3>
<p>PyVSC covergroups contain an <code class="xref any docutils literal notranslate"><span class="pre">options</span></code> attribute and a <code class="xref any docutils literal notranslate"><span class="pre">type_options</span></code> attribute
with which to configure covergroup options. Options may only be changed within
the <code class="xref any docutils literal notranslate"><span class="pre">__init__</span></code> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="xref any docutils literal notranslate"><span class="pre">options</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">type_options</span></code> attributes are provided, but the values are currently ignored</p>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Option name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name=*string*</p></td>
<td><p>Unique name</p></td>
<td><p>Specifies a name fo the covergroup instance. If unspecified,
a unique name will be generated based on the type name.</p></td>
</tr>
<tr class="row-odd"><td><p>weight=number</p></td>
<td><p>1</p></td>
<td><p>Specifies the weight of this covergroup instances relative
to other instances.</p></td>
</tr>
<tr class="row-even"><td><p>goal=number</p></td>
<td><p>100</p></td>
<td><p>Specifies the target goal for this covergroup instance</p></td>
</tr>
<tr class="row-odd"><td><p>comment=*string*</p></td>
<td><p>“”</p></td>
<td><p>Specifes a comment for this covergroup</p></td>
</tr>
<tr class="row-even"><td><p>at_least=number</p></td>
<td><p>1</p></td>
<td><p>Minimum number of hits for each coverage bin</p></td>
</tr>
<tr class="row-odd"><td><p>auto_bin_max=number</p></td>
<td><p>64</p></td>
<td><p>Maximum number of automatically-created bins when bins are
not explicitly specified</p></td>
</tr>
<tr class="row-even"><td><p>per_instance=bool</p></td>
<td><p>False</p></td>
<td><p>When true, instance-specific coverage information must be
saved for each covergroup instance</p></td>
</tr>
<tr class="row-odd"><td><p>get_inst_coverage</p></td>
<td><p>False</p></td>
<td><p>Only applies when the <em>merge_instances</em> type option is set.
Enables tracking of per-instance coverage with the
<em>get_inst_coverage</em> method. When False, <em>get_coverage</em>
and <em>get_inst_coverage</em> return the same value.</p></td>
</tr>
</tbody>
</table>
<p>Options can be configured in two ways. Options maybe configured within the <code class="xref any docutils literal notranslate"><span class="pre">__init__</span></code> method.
They can also be configured after construction, and before the covergroup is sampled
for the first time, by referencing the options fields directly.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
             <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
             <span class="p">)</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">weight</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="nb">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="nb">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">})</span>

 <span class="n">cg1</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
 <span class="n">cg2</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>The example above sets the weight of the covergroup to the specified weight passed to <code class="xref any docutils literal notranslate"><span class="pre">__init__</span></code></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
             <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
             <span class="p">)</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="nb">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="nb">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">})</span>

 <span class="n">cg1</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
 <span class="n">cg1</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">weight</span><span class="o">=</span><span class="mi">10</span>
 <span class="n">cg2</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
 <span class="n">cg2</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">weight</span><span class="o">=</span><span class="mi">20</span>
</pre></div>
</div>
<p>The example above configures the <em>weight</em> option by setting it post-cconstruction.</p>
</section>
</section>
<section id="coverpoints">
<h2>Coverpoints<a class="headerlink" href="#coverpoints" title="Permalink to this heading"></a></h2>
<p>A coverpoint is declared using the <a class="reference internal" href="reference.html#vsc.coverage.coverpoint" title="vsc.coverage.coverpoint"><code class="xref any py py-class docutils literal notranslate"><span class="pre">coverpoint</span></code></a> method. The name of the
coverpoint will be the same as the class attribute to which it is
assigned.</p>
<p>The first argument to a coverpoint is its target expression. This can be
an expression involving PyVSC-typed variables, or it can be a simple
reference to a callable field that returns a value.</p>
<section id="specifying-bins">
<h3>Specifying Bins<a class="headerlink" href="#specifying-bins" title="Permalink to this heading"></a></h3>
<p>Bins are specified as a Python <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></a>, and passed via the <code class="xref any docutils literal notranslate"><span class="pre">bins</span></code> keyword
argument to the coverpoint method. Both individual bins and arrays of
bins can be specified.</p>
<section id="individual-bins">
<h4>Individual Bins<a class="headerlink" href="#individual-bins" title="Permalink to this heading"></a></h4>
<p>Individual bins are specified with the <a class="reference internal" href="reference.html#vsc.coverage.bin" title="vsc.coverage.bin"><code class="xref any py py-class docutils literal notranslate"><span class="pre">bin</span></code></a> method. The <a class="reference internal" href="reference.html#vsc.coverage.bin" title="vsc.coverage.bin"><code class="xref any py py-class docutils literal notranslate"><span class="pre">bin</span></code></a> method
accepts a list of individual values and value ranges that the bin contains.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span> <span class="p">:</span> <span class="n">callable</span><span class="p">):</span>

         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">})</span>
</pre></div>
</div>
<p>In the example above, the <code class="xref any docutils literal notranslate"><span class="pre">a</span></code> bin contains the values 1, 2, 4. The <code class="xref any docutils literal notranslate"><span class="pre">b</span></code> bin
contains the value 8 and the value range 12..15.</p>
</section>
<section id="bin-arrays">
<h4>Bin Arrays<a class="headerlink" href="#bin-arrays" title="Permalink to this heading"></a></h4>
<p>Bin arrays partition a list of values and ranges into a specified number
of bins. Bin arrays are specified using the <a class="reference internal" href="reference.html#vsc.coverage.bin_array" title="vsc.coverage.bin_array"><code class="xref any py py-class docutils literal notranslate"><span class="pre">bin_array</span></code></a> method. The first
parameter to this method specifies how values are to be partitioned. This
parameter can be specified either as a number, or a single value in a list.
The list format is similar to SystemVerilog syntax.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span> <span class="p">:</span> <span class="n">callable</span><span class="p">):</span>

         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">])</span>
             <span class="p">})</span>
</pre></div>
</div>
<p>In the example above, bin <code class="xref any docutils literal notranslate"><span class="pre">a</span></code> will consist of three individual value bins,
with a bin for value 1, 2, and 4 respectively. Bin <code class="xref any docutils literal notranslate"><span class="pre">b</span></code> will consist of
four bins, each covering two values of the range 8..16.</p>
</section>
<section id="auto-bins">
<h4>Auto-Bins<a class="headerlink" href="#auto-bins" title="Permalink to this heading"></a></h4>
<p>Auto-binning can be used in many cases to cause bins to be created for
all values of an enumerated type, or to cause the legal value range to be
partitioned evenly based on the <code class="xref any docutils literal notranslate"><span class="pre">auto_bin_max</span></code> option.
When auto-binning is used and the type of the coverpoint isn’t apparent,
the <code class="xref any docutils literal notranslate"><span class="pre">cp_t</span></code> parameter must be used to specify the type of the value being
sampled.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span> <span class="p">:</span> <span class="n">callable</span><span class="p">):</span>

         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">cp_t</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">uint8_t</span><span class="p">())</span>
</pre></div>
</div>
<p>In the example above, the type of the coverpoint is not apparent because
a callable is providing the target value. Consequently, the cp_t
parameter is used to specify that the value being sampled is an 8-bit
unsigned integer.</p>
</section>
<section id="wildcard-bins-single">
<h4>Wildcard Bins (Single)<a class="headerlink" href="#wildcard-bins-single" title="Permalink to this heading"></a></h4>
<p>A wildcard specification may be used to specify the values within
single bins. The checked value may either be specified as a string
that contains wildcard characters (‘x’, ‘?’) or may be specified
as a tuple of (value, mask).</p>
<p>When using the string form of specifying a wildcard bin, the
specification string must start with “0x” (hexadecimal),
“0o” (octal), or “0b” (binary).</p>
<p>Here is an example showing specification of a wildcard bin that
matches any value 0x80..0x8F:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
<span class="k">class</span> <span class="nc">cg</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
            <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cp_a</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">wildcard_bin</span><span class="p">(</span><span class="s2">&quot;0x8x&quot;</span><span class="p">)))</span>
</pre></div>
</div>
<p>Here is the same coverpoint specification using the value/mask
form:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
<span class="k">class</span> <span class="nc">cg</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
            <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cp_a</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">wildcard_bin</span><span class="p">((</span><span class="mh">0x80</span><span class="p">,</span><span class="mh">0xF0</span><span class="p">))</span>
            <span class="p">))</span>
</pre></div>
</div>
</section>
<section id="wildcard-bins-array">
<h4>Wildcard Bins (Array)<a class="headerlink" href="#wildcard-bins-array" title="Permalink to this heading"></a></h4>
<p>A wildcard specification may also be used to specify arrays of bins.
In this case, the wildcard characters specify a location where all
possibilities must be expanded.</p>
<p>The example below creates 16 bins for the values 0x80..0x8F:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
<span class="k">class</span> <span class="nc">cg</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
            <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cp_a</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">wildcard_bin_array</span><span class="p">([],</span> <span class="s2">&quot;0x8x&quot;</span><span class="p">)</span>
            <span class="p">))</span>
</pre></div>
</div>
</section>
<section id="ignore-and-illegal-bins">
<h4>Ignore and Illegal Bins<a class="headerlink" href="#ignore-and-illegal-bins" title="Permalink to this heading"></a></h4>
<p><code class="xref any docutils literal notranslate"><span class="pre">Ignore</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">illegal</span></code> bins may be specified on coverpoints in
addition to the other bins described above. An ignore or illegal
bin trims values from other bins if it intersects values within
those bins. Please note that, as in SystemVerilog, bins are
partitioned <em>after</em> ignore and illegal bin values are removed
from regular bins.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
   <span class="k">class</span> <span class="nc">val_cg</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
       <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span>
               <span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">uint8_t</span><span class="p">()</span>
               <span class="p">))</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">cp_val</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                               <span class="n">rng_1</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">])</span>
                           <span class="p">),</span>
                           <span class="n">ignore_bins</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                               <span class="n">invalid_value</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
                           <span class="p">))</span>
</pre></div>
</div>
<p>In the example above, the user specifies an array of four
auto-partitioned bins and an ignored value of <code class="xref any docutils literal notranslate"><span class="pre">4</span></code>. In the
absence of ignore bins, the 12 values to be paritionted
would be divided into bins of three (1..3, 4..6, 7..9, 10..12).
Because bins are partitioned after excluded bins have been
applied, the bins in the example above are:
- 1..2
- 3,5
- 6,7
- 8..12</p>
</section>
</section>
<section id="coverpoint-crosses">
<h3>Coverpoint Crosses<a class="headerlink" href="#coverpoint-crosses" title="Permalink to this heading"></a></h3>
<p>Coverpoint crosses are specified using the <a class="reference internal" href="reference.html#vsc.coverage.cross" title="vsc.coverage.cross"><code class="xref any py py-class docutils literal notranslate"><span class="pre">cross</span></code></a> method. The first
parameter to the <a class="reference internal" href="reference.html#vsc.coverage.cross" title="vsc.coverage.cross"><code class="xref any py py-class docutils literal notranslate"><span class="pre">cross</span></code></a> method is a list of the coverpoints that
compose the coverpoint cross.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
<span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
            <span class="n">b</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
            <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cp2</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
            <span class="p">})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cp1X2</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">cross</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">cp1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cp2</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="specifying-coverpoint-sampling-conditions">
<h3>Specifying Coverpoint Sampling Conditions<a class="headerlink" href="#specifying-coverpoint-sampling-conditions" title="Permalink to this heading"></a></h3>
<p>A sampling condition can be specified on both coverpoints and coverpoint
crosses using the <code class="xref any docutils literal notranslate"><span class="pre">iff</span></code> keyword parameter to the <a class="reference internal" href="reference.html#vsc.coverage.coverpoint" title="vsc.coverage.coverpoint"><code class="xref any py py-class docutils literal notranslate"><span class="pre">coverpoint</span></code></a> and <a class="reference internal" href="reference.html#vsc.coverage.cross" title="vsc.coverage.cross"><code class="xref any py py-class docutils literal notranslate"><span class="pre">cross</span></code></a>
methods.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span> <span class="p">:</span> <span class="n">callable</span><span class="p">,</span> <span class="n">b</span> <span class="p">:</span> <span class="n">callable</span><span class="p">):</span>

         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">iff</span><span class="o">=</span><span class="n">b</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">])</span>
             <span class="p">})</span>
</pre></div>
</div>
</section>
<section id="coverpoint-options">
<h3>Coverpoint Options<a class="headerlink" href="#coverpoint-options" title="Permalink to this heading"></a></h3>
<p>Both type options and instance options can specified on both coverpoints
and coverpoint crosses. Only the following options are currently
respected:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Option name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>weight=number</p></td>
<td><p>1</p></td>
<td><p>Specifies the weight of this covergroup instances relative
to other instances.</p></td>
</tr>
<tr class="row-odd"><td><p>goal=number</p></td>
<td><p>100</p></td>
<td><p>Specifies the target goal for this covergroup instance</p></td>
</tr>
<tr class="row-even"><td><p>at_least=number</p></td>
<td><p>1</p></td>
<td><p>Minimum number of hits for each coverage bin</p></td>
</tr>
<tr class="row-odd"><td><p>auto_bin_max=number</p></td>
<td><p>64</p></td>
<td><p>Maximum number of automatically-created bins when bins are
not explicitly specified</p></td>
</tr>
</tbody>
</table>
<p>Options are specified via a <code class="docutils literal notranslate"><span class="pre">dict</span></code> attached to the coverpoint
during construction. The example below shows overriding the
covergroup-level <code class="docutils literal notranslate"><span class="pre">at_least</span></code> option for one coverpoint.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
<span class="k">class</span> <span class="nc">cg</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">uint8_t</span><span class="p">(),</span>
            <span class="n">b</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">uint8_t</span><span class="p">()))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">at_least</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
            <span class="p">},</span> <span class="n">options</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">at_least</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cp2</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
            <span class="p">})</span>
</pre></div>
</div>
</section>
</section>
<section id="providing-coverage-data-to-sample">
<h2>Providing Coverage Data to Sample<a class="headerlink" href="#providing-coverage-data-to-sample" title="Permalink to this heading"></a></h2>
<p>PyVSC supports several methods for providing data for a covergroup
instance to sample.
- Data in a <a class="reference internal" href="reference.html#vsc.rand_obj.randobj" title="vsc.rand_obj.randobj"><code class="xref any py py-func docutils literal notranslate"><span class="pre">randobj</span></code></a>-decorated class object can be provided by
reference to the covergroup <code class="xref any docutils literal notranslate"><span class="pre">__init__</span></code> method.
- Scalar data can be specified to the <code class="xref any docutils literal notranslate"><span class="pre">__init__</span></code> method using
lambda expressions to obtain the data from the instantiating context
- Data can be provided via the <a class="reference internal" href="reference.html#vsc.model.covergroup_model.CovergroupModel.sample" title="vsc.model.covergroup_model.CovergroupModel.sample"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">sample</span></code></a> methods, using a user-specified
sample-method signature.</p>
<section id="declaring-a-custom-sample-method">
<h3>Declaring a Custom Sample Method<a class="headerlink" href="#declaring-a-custom-sample-method" title="Permalink to this heading"></a></h3>
<p>Use of a custom <a class="reference internal" href="reference.html#vsc.model.covergroup_model.CovergroupModel.sample" title="vsc.model.covergroup_model.CovergroupModel.sample"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">sample</span></code></a> method that accepts parameters is specified
by calling the <code class="xref any docutils literal notranslate"><span class="pre">with_sample</span></code> method and passing either a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></a> of
parameter-name/parameter-type pairs or a list of keyword arguments.
The <code class="xref any docutils literal notranslate"><span class="pre">with_sample</span></code> method declares class members with the same name
and type as the key/value pairs in the dict passed to the
<code class="xref any docutils literal notranslate"><span class="pre">with_sample</span></code> method.
The <code class="xref any docutils literal notranslate"><span class="pre">with_sample</span></code> method should be called early in the <code class="docutils literal notranslate"><span class="pre">__init__</span></code>
method body to ensure that the sample parameters are declared early
and present when referenced in coverpoints.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span>
             <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
             <span class="p">))</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">})</span>
</pre></div>
</div>
<p>The example above shows specifying the <a class="reference internal" href="reference.html#vsc.model.covergroup_model.CovergroupModel.sample" title="vsc.model.covergroup_model.CovergroupModel.sample"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">sample</span></code></a> method parameter list
using a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></a>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
             <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
             <span class="p">)</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">})</span>
</pre></div>
</div>
<p>The example above shows specifying the <a class="reference internal" href="reference.html#vsc.model.covergroup_model.CovergroupModel.sample" title="vsc.model.covergroup_model.CovergroupModel.sample"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">sample</span></code></a> method parameter list
using individual keyword arguments.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
<span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
            <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
            <span class="p">})</span>

<span class="n">cg</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
<span class="n">cg</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cg</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<p>In both cases, data is passed as parameters to the <a class="reference internal" href="reference.html#vsc.model.covergroup_model.CovergroupModel.sample" title="vsc.model.covergroup_model.CovergroupModel.sample"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">sample</span></code></a> method,
as shown in the example above.</p>
</section>
<section id="specifying-sampling-data-at-instantiation">
<h3>Specifying Sampling Data at Instantiation<a class="headerlink" href="#specifying-sampling-data-at-instantiation" title="Permalink to this heading"></a></h3>
<p>PyVSC supports specifying coverage-sampling data when the covergroup
is instanced, as well as specifying it each time the sample method is
called. In this case, no parameters are passed to the <a class="reference internal" href="reference.html#vsc.model.covergroup_model.CovergroupModel.sample" title="vsc.model.covergroup_model.CovergroupModel.sample"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">sample</span></code></a> method.</p>
<p>This mode of specifying coverage-sampling data requires that a <a class="reference external" href="https://docs.python.org/3/glossary.html#term-lambda" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">lambda</span></code></a>
is used to connect the calling context to the data used for coverage
sampling.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="c1"># Need to use lambda for non-reference values</span>
         <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">coverpoint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span>
             <span class="n">bins</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                 <span class="n">a</span> <span class="o">=</span> <span class="n">bin_array</span><span class="p">([],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">))</span>

         <span class="bp">self</span><span class="o">.</span><span class="n">cp2</span> <span class="o">=</span> <span class="n">coverpoint</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
             <span class="n">b</span> <span class="o">=</span> <span class="n">bin_array</span><span class="p">([],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">))</span>


 <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

 <span class="n">cg</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span><span class="n">a</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span><span class="n">b</span><span class="p">)</span>

 <span class="n">a</span><span class="o">=</span><span class="mi">1</span>
 <span class="n">b</span><span class="o">=</span><span class="mi">1</span>
 <span class="n">cg</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span> <span class="c1"># Hit the first bin of cp1 and cp2</span>
</pre></div>
</div>
<p>In the example above, calling the <a class="reference internal" href="reference.html#vsc.model.covergroup_model.CovergroupModel.sample" title="vsc.model.covergroup_model.CovergroupModel.sample"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">sample</span></code></a> method will sample the current value
of <code class="xref any docutils literal notranslate"><span class="pre">a</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">b</span></code> in the context and sample the coverpoints with those values.</p>
</section>
</section>
<section id="coverage-api">
<h2>Coverage API<a class="headerlink" href="#coverage-api" title="Permalink to this heading"></a></h2>
<p>PyVSC covergroup classes implement methods for querying achieved coverage.</p>
<ul class="simple">
<li><p><a class="reference internal" href="reference.html#vsc.coverage.coverpoint.get_coverage" title="vsc.coverage.coverpoint.get_coverage"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_coverage</span></code></a> - Reports coverage achieved by all covergroup instances (0..100)</p></li>
<li><p><a class="reference internal" href="reference.html#vsc.coverage.coverpoint.get_inst_coverage" title="vsc.coverage.coverpoint.get_inst_coverage"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_inst_coverage</span></code></a> - Reports coverage by this instance (0..100)</p></li>
</ul>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
<span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
            <span class="p">})</span>

<span class="n">cg1</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
<span class="n">cg2</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>

<span class="n">cg1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type=</span><span class="si">%f</span><span class="s2"> cg1=</span><span class="si">%f</span><span class="s2"> cg2=</span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
  <span class="n">cg1</span><span class="o">.</span><span class="n">get_coverage</span><span class="p">(),</span>
  <span class="n">cg1</span><span class="o">.</span><span class="n">get_inst_coverage</span><span class="p">(),</span>
  <span class="n">cg2</span><span class="o">.</span><span class="n">get_inst_coverage</span><span class="p">()))</span>

<span class="n">cg2</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type=</span><span class="si">%f</span><span class="s2"> cg1=</span><span class="si">%f</span><span class="s2"> cg2=</span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
  <span class="n">cg1</span><span class="o">.</span><span class="n">get_coverage</span><span class="p">(),</span>
  <span class="n">cg1</span><span class="o">.</span><span class="n">get_inst_coverage</span><span class="p">(),</span>
  <span class="n">cg2</span><span class="o">.</span><span class="n">get_inst_coverage</span><span class="p">()))</span>
</pre></div>
</div>
<p>Running this example produces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="o">=</span><span class="mf">25.000000</span> <span class="n">cg1</span><span class="o">=</span><span class="mf">25.000000</span> <span class="n">cg2</span><span class="o">=</span><span class="mf">0.000000</span>
<span class="n">Type</span><span class="o">=</span><span class="mf">50.000000</span> <span class="n">cg1</span><span class="o">=</span><span class="mf">25.000000</span> <span class="n">cg2</span><span class="o">=</span><span class="mf">25.000000</span>
</pre></div>
</div>
<p>Sampling the first covergroup instance results in its instance coverage
being increased to 25% (1/4 bins have been hit) and the combined type
coverage incrasing to 25%. Sampling the second covergroup instance raises
its instance coverage to 25% as well, while increasing the total type
coverage achieved to 50%.</p>
</section>
<section id="coverage-reports">
<h2>Coverage Reports<a class="headerlink" href="#coverage-reports" title="Permalink to this heading"></a></h2>
<p>PyVSC provides three methods for obtaining a coverage report.</p>
<span class="target" id="module-vsc"></span><dl class="py function">
<dt class="sig sig-object py" id="vsc.get_coverage_report">
<span class="sig-prename descclassname"><span class="pre">vsc.</span></span><span class="sig-name descname"><span class="pre">get_coverage_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/vsc.html#get_coverage_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vsc.get_coverage_report" title="Permalink to this definition"></a></dt>
<dd><p>Returns a textual coverage report of all covergroups</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>details</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – Write details, such as the hits in each bin (False)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String containin coverage report text</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-0"></span><dl class="py function">
<dt class="sig sig-object py" id="vsc.get_coverage_report_model">
<span class="sig-prename descclassname"><span class="pre">vsc.</span></span><span class="sig-name descname"><span class="pre">get_coverage_report_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">CoverageReport</span></span></span><a class="reference internal" href="_modules/vsc.html#get_coverage_report_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vsc.get_coverage_report_model" title="Permalink to this definition"></a></dt>
<dd><p>Returns a coverage report model of all covergroups</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Object describing collected coverage</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-1"></span><dl class="py function">
<dt class="sig sig-object py" id="vsc.report_coverage">
<span class="sig-prename descclassname"><span class="pre">vsc.</span></span><span class="sig-name descname"><span class="pre">report_coverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vsc.html#report_coverage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vsc.report_coverage" title="Permalink to this definition"></a></dt>
<dd><p>Writes a coverage report to a stream (stdout by default)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fp</strong> – Stream to which to write the report</p></li>
<li><p><strong>details</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – Write details, such as the hits in each bin (False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Let’s using a derivative of the example show above to see the differences
between a coverage report with and without details.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
<span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="n">vsc</span><span class="o">.</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin_array</span><span class="p">([],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
            <span class="p">})</span>

<span class="n">cg1</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
<span class="n">cg2</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>

<span class="n">cg1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cg2</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;==== Without Details ===&quot;</span><span class="p">)</span>
<span class="n">vsc</span><span class="o">.</span><span class="n">report_coverage</span><span class="p">()</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;==== With Details ===&quot;</span><span class="p">)</span>
<span class="n">vsc</span><span class="o">.</span><span class="n">report_coverage</span><span class="p">(</span><span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The output from this code is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TYPE</span> <span class="n">my_covergroup</span> <span class="p">:</span> <span class="mf">50.000000</span><span class="o">%</span>
  <span class="n">CVP</span> <span class="n">cp1</span> <span class="p">:</span> <span class="mf">50.000000</span><span class="o">%</span>
  <span class="n">INST</span> <span class="n">my_covergroup</span> <span class="p">:</span> <span class="mf">25.000000</span><span class="o">%</span>
      <span class="n">CVP</span> <span class="n">cp1</span> <span class="p">:</span> <span class="mf">25.000000</span><span class="o">%</span>
  <span class="n">INST</span> <span class="n">my_covergroup_1</span> <span class="p">:</span> <span class="mf">25.000000</span><span class="o">%</span>
      <span class="n">CVP</span> <span class="n">cp1</span> <span class="p">:</span> <span class="mf">25.000000</span><span class="o">%</span>

<span class="o">====</span> <span class="n">With</span> <span class="n">Details</span> <span class="o">===</span>
<span class="n">TYPE</span> <span class="n">my_covergroup</span> <span class="p">:</span> <span class="mf">50.000000</span><span class="o">%</span>
  <span class="n">CVP</span> <span class="n">cp1</span> <span class="p">:</span> <span class="mf">50.000000</span><span class="o">%</span>
  <span class="n">Bins</span><span class="p">:</span>
      <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="mi">1</span>
      <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="mi">1</span>
      <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span>
      <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span>
  <span class="n">INST</span> <span class="n">my_covergroup</span> <span class="p">:</span> <span class="mf">25.000000</span><span class="o">%</span>
      <span class="n">CVP</span> <span class="n">cp1</span> <span class="p">:</span> <span class="mf">25.000000</span><span class="o">%</span>
      <span class="n">Bins</span><span class="p">:</span>
          <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="mi">1</span>
          <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span>
          <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span>
          <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span>
  <span class="n">INST</span> <span class="n">my_covergroup_1</span> <span class="p">:</span> <span class="mf">25.000000</span><span class="o">%</span>
      <span class="n">CVP</span> <span class="n">cp1</span> <span class="p">:</span> <span class="mf">25.000000</span><span class="o">%</span>
      <span class="n">Bins</span><span class="p">:</span>
          <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span>
          <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="mi">1</span>
          <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span>
          <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The coverage report without details shows the coverage achieved for the
covergroup and coverpoints without showing which bins were hit or how
many times. The coverage report with details shows hit counts for each
bin in addition to the coverage percentage achieved for the covergroups
and coverpoints.</p>
</section>
<section id="saving-coverage-data">
<h2>Saving Coverage Data<a class="headerlink" href="#saving-coverage-data" title="Permalink to this heading"></a></h2>
<p>PyVSC uses the <a class="reference external" href="https://github.com/fvutils/pyucis">PyUCIS</a> library to export
coverage data using the API or XML interchange format defined by the
<a class="reference external" href="https://accellera.org/downloads/standards/ucis">Accellera UCIS</a> standard.</p>
<p>Using the PyUCIS library, PyVSC can write coverage data to an XML-format
coverage interchange file. Or, can write coverage data directly to a
coverage database using a shared library that implements the UCIS C API.</p>
<p>PyVSC provides the <a class="reference internal" href="#vsc.write_coverage_db" title="vsc.write_coverage_db"><code class="xref any py py-func docutils literal notranslate"><span class="pre">write_coverage_db</span></code></a> method for saving coverage data.</p>
<span class="target" id="module-2"></span><dl class="py function">
<dt class="sig sig-object py" id="vsc.write_coverage_db">
<span class="sig-prename descclassname"><span class="pre">vsc.</span></span><span class="sig-name descname"><span class="pre">write_coverage_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'xml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">libucis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vsc.html#write_coverage_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vsc.write_coverage_db" title="Permalink to this definition"></a></dt>
<dd><p>Writes coverage data to persistent storage using the PyUCIS library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – Destination for coverage data</p></li>
<li><p><strong>fmt</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – Format of the coverage data. ‘xml’ and ‘libucis’ supported</p></li>
<li><p><strong>libucis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – Path to a library implementing the UCIS C API (default=None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<section id="saving-to-xml">
<h3>Saving to XML<a class="headerlink" href="#saving-to-xml" title="Permalink to this heading"></a></h3>
<p>By default, the <a class="reference internal" href="#vsc.write_coverage_db" title="vsc.write_coverage_db"><code class="xref any py py-func docutils literal notranslate"><span class="pre">write_coverage_db</span></code></a> method saves coverage data to an
XML file formatted according to the UCIS interchange-format schema.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span> <span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
             <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
             <span class="p">)</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">})</span>

<span class="n">my_cg_1</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
<span class="n">my_cg_1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">my_cg_1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">my_cg_1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

<span class="n">vsc</span><span class="o">.</span><span class="n">write_coverage_db</span><span class="p">(</span><span class="s1">&#39;cov.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="saving-via-a-ucis-api-implementation">
<h3>Saving via a UCIS API Implementation<a class="headerlink" href="#saving-via-a-ucis-api-implementation" title="Permalink to this heading"></a></h3>
<p>When an implementation of the UCIS C API is available, PyVSC
can write coverage data using that API implementation. In this
case, the <code class="xref any docutils literal notranslate"><span class="pre">fmt</span></code> parameter of the <a class="reference internal" href="#vsc.write_coverage_db" title="vsc.write_coverage_db"><code class="xref any py py-func docutils literal notranslate"><span class="pre">write_coverage_db</span></code></a> method
must be specified as <code class="xref any docutils literal notranslate"><span class="pre">libucis</span></code>. The <code class="xref any docutils literal notranslate"><span class="pre">libucis</span></code> parameter of
the method must specify the name of the shared library that
implements the UCIS API.</p>
<p>In the example below, the tool-provided shared library that
implements the UCIS API is named <code class="xref any docutils literal notranslate"><span class="pre">libucis.so</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span> <span class="nd">@vsc</span><span class="o">.</span><span class="n">covergroup</span>
 <span class="k">class</span> <span class="nc">my_covergroup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">with_sample</span><span class="p">(</span>
             <span class="n">a</span><span class="o">=</span><span class="n">bit_t</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
             <span class="p">)</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="n">vsc</span><span class="o">.</span><span class="n">coverpoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">{</span>
             <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
             <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="n">vsc</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
             <span class="p">})</span>

<span class="n">my_cg_1</span> <span class="o">=</span> <span class="n">my_covergroup</span><span class="p">()</span>
<span class="n">my_cg_1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">my_cg_1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">my_cg_1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

<span class="n">vsc</span><span class="o">.</span><span class="n">write_coverage_db</span><span class="p">(</span><span class="s1">&#39;cov.db&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;libucis&#39;</span><span class="p">,</span> <span class="n">libucis</span><span class="o">=</span><span class="s1">&#39;libucis.so&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Calling <a class="reference internal" href="#vsc.write_coverage_db" title="vsc.write_coverage_db"><code class="xref any py py-func docutils literal notranslate"><span class="pre">write_coverage_db</span></code></a> in this way causes the PyUCIS library
to load the specified shared library and call UCIS C API functions
to record the coverage data collected by the PyVSC library.</p>
</section>
</section>
<section id="using-coverage-data">
<h2>Using Coverage Data<a class="headerlink" href="#using-coverage-data" title="Permalink to this heading"></a></h2>
<p>Coverage data saved from PyVSC can be used in several open-source and
closed-source commercial tool flows. The sections below describe
flows that PyVSC data is known to have been used in.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The information below with respect to closed-source/commercial tool
flows represents data collected from users of those flows and tools.
You are well-advised to confirm the accuracy of the information
with the relevant vendor’s documentation and/or Application Engineers.</p>
</div>
<p>Please report other tool flows that accept coverage data from PyVSC
via the project’s <a class="reference external" href="https://github.com/fvutils/pyvsc/issues">Issues</a> or
<a class="reference external" href="https://github.com/fvutils/pyvsc/discussions">Discussion</a> areas.</p>
<section id="viewing-coverage-with-pyucis-viewer">
<h3>Viewing Coverage with PyUCIS-Viewer<a class="headerlink" href="#viewing-coverage-with-pyucis-viewer" title="Permalink to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/fvutils/pyucis-viewer">PyUCIS-Viewer</a> is a very
simple graphical viewer for functional coverage data. It currently
supports reading coverage data from UCIS XML-interchange-formatted
files.</p>
</section>
<section id="siemens-questa-writing-coverage-data">
<h3>Siemens Questa: Writing Coverage Data<a class="headerlink" href="#siemens-questa-writing-coverage-data" title="Permalink to this heading"></a></h3>
<p>Siemens Questa <a class="footnote-reference brackets" href="#id3" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> is reported to provide a library that implements the
UCIS C API. Using this library, coverage data can be written
directly to a Questa coverage database. See the information above about
writing coverage data to a UCIS API implementation for more information
on how to utilize this flow.</p>
</section>
<section id="synopsys-vcs-importing-coverage-data">
<h3>Synopsys VCS: Importing Coverage Data<a class="headerlink" href="#synopsys-vcs-importing-coverage-data" title="Permalink to this heading"></a></h3>
<p>Bringing coverage in UCIS XML-interchange format into the Synopsys VCS <a class="footnote-reference brackets" href="#id4" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>
metric analysis flow has been described using an import command. To follow
this flow, write coverage data out from PyVSC in UCIS XML-interchange format.</p>
<p>Use the following VCS import command to read the data from the XML coverage
file into a VCS coverage database:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>%<span class="w"> </span>covimport<span class="w"> </span>-readucis<span class="w"> </span>&lt;cov.xml&gt;<span class="w"> </span>-dbname<span class="w"> </span>&lt;cov.vdb&gt;
</pre></div>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Questa is a trademark of Siemens Industry Software Inc.</p>
</aside>
<aside class="footnote brackets" id="id4" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>VCS is a trademark of Synopsys Inc.</p>
</aside>
</aside>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="constraints.html" class="btn btn-neutral float-left" title="PyVSC Constraints" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="methods.html" class="btn btn-neutral float-right" title="PyVSC Methods" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2023, Matthew Ballance and Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>